
import streamlit as st
import pandas as pd

# כותרת המערכת
st.title("שאלון אבחון אישי - מציאת הנתיב שלך")

# הסבר קצר
st.write("ענה על השאלות הבאות כדי לקבל תובנות לגבי האיזון הרגשי שלך ומפת הדרך האישית שלך.")

# יצירת טופס למשתמש
with st.form("questionnaire_form"):
    st.subheader("שלב 1: היכן אתה נמצא?")
    q1 = st.radio("איך היית מתאר את התחושה שלך במסע החיים?", 
                  ["מחסום ללא מוצא", "צומת דרכים לא ברורה", "תחושה שאני מסתובב במעגלים", 
                   "דרך ישרה אך חסר משהו", "טיפוס מייגע ללא יעד ברור"])

    st.subheader("שלב 2: תחושות גופניות")
    q2 = st.radio("אם היית מרגיש את המצב שלך בגוף, היכן היית שם לב לכובד או קלילות?", 
                  ["בראש - עומס מחשבות", "בלב - חיפוש חום ואישור", 
                   "בבטן - פחד וחשש", "בידיים - חוסר מסוגלות"])

    st.subheader("שלב 3: הדימוי שלך בעולם")
    q3 = st.radio("איזה דימוי מתאים לך יותר?", 
                  ["דג מחוץ למים", "עץ בודד במדבר", "שחקן על במה", 
                   "קפטן של ספינה", "מטפס הרים"])

    st.subheader("שלב 4: חוק היקום שלא ממומש")
    q4 = st.radio("איזו תחושה מאפיינת את חווית החיים שלך?", 
                  ["אני נותן הרבה אבל לא מקבל חזרה - חוק הפיצוי", 
                   "הדברים שאני הכי רוצה מתרחקים ממני - חוק המשיכה", 
                   "אני חוזר שוב ושוב על אותן טעויות - חוק הסיבה והתוצאה", 
                   "משהו תמיד מחזיר אותי אחורה - חוק הקוטביות"])

    # כפתור שליחה
    submitted = st.form_submit_button("שלח תשובות")

# שמירת התשובות וניתוח ראשוני
if submitted:
    # יצירת DataFrame לשמירת הנתונים
    user_data = pd.DataFrame({"שאלה": ["מסע החיים", "תחושות גוף", "דימוי אישי", "חוק היקום"],
                               "תשובה": [q1, q2, q3, q4]})

    # הצגת סיכום ראשוני
    st.subheader("🔍 ניתוח ראשוני של התשובות שלך:")
    st.write(user_data)

    # המלצה ראשונית
    if "מחסום ללא מוצא" in q1 or "אני חוזר שוב ושוב" in q4:
        st.write("📌 נראה שאתה מרגיש תקוע. ייתכן שחוק הסיבה והתוצאה לא פועל לטובתך.")
    elif "דג מחוץ למים" in q3 or "חיפוש חום ואישור" in q2:
        st.write("📌 ייתכן שחסר לך חיבור לשייכות אמיתית. כדאי לבדוק כיצד ליצור חיבור בריא.")
    else:
        st.write("📌 על סמך תשובותיך, נראה שאתה בדרך לגילוי אישי משמעותי!")

st.write("✨ התובנות המלאות שלך ינותחו בשלב הבא.")
